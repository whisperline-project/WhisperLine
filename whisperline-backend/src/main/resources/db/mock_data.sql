USE whisperline;

-- Insert 100 mock users
INSERT INTO users (name, username, password, email) VALUES
('John Smith', 'johnsmith', 'password123', 'john.smith@email.com'),
('Emily Johnson', 'emilyj', 'password123', 'emily.johnson@email.com'),
('Michael Brown', 'michaelb', 'password123', 'michael.brown@email.com'),
('Sarah Davis', 'sarahd', 'password123', 'sarah.davis@email.com'),
('David Wilson', 'davidw', 'password123', 'david.wilson@email.com'),
('Jessica Martinez', 'jessicam', 'password123', 'jessica.martinez@email.com'),
('Christopher Anderson', 'christophera', 'password123', 'christopher.anderson@email.com'),
('Ashley Taylor', 'ashleyt', 'password123', 'ashley.taylor@email.com'),
('Matthew Thomas', 'matthewt', 'password123', 'matthew.thomas@email.com'),
('Amanda Jackson', 'amandaj', 'password123', 'amanda.jackson@email.com'),
('James White', 'jamesw', 'password123', 'james.white@email.com'),
('Melissa Harris', 'melissah', 'password123', 'melissa.harris@email.com'),
('Daniel Martin', 'danielm', 'password123', 'daniel.martin@email.com'),
('Stephanie Thompson', 'stephaniet', 'password123', 'stephanie.thompson@email.com'),
('Robert Garcia', 'robertg', 'password123', 'robert.garcia@email.com'),
('Nicole Martinez', 'nicolem', 'password123', 'nicole.martinez@email.com'),
('William Robinson', 'williamr', 'password123', 'william.robinson@email.com'),
('Michelle Clark', 'michellec', 'password123', 'michelle.clark@email.com'),
('Joseph Rodriguez', 'josephr', 'password123', 'joseph.rodriguez@email.com'),
('Kimberly Lewis', 'kimberlyl', 'password123', 'kimberly.lewis@email.com'),
('Charles Lee', 'charlesl', 'password123', 'charles.lee@email.com'),
('Angela Walker', 'angelaw', 'password123', 'angela.walker@email.com'),
('Thomas Hall', 'thomash', 'password123', 'thomas.hall@email.com'),
('Brenda Allen', 'brendaa', 'password123', 'brenda.allen@email.com'),
('Christopher Young', 'christophery', 'password123', 'christopher.young@email.com'),
('Lisa Hernandez', 'lisah', 'password123', 'lisa.hernandez@email.com'),
('Mark King', 'markk', 'password123', 'mark.king@email.com'),
('Patricia Wright', 'patriciaw', 'password123', 'patricia.wright@email.com'),
('Steven Lopez', 'stevenl', 'password123', 'steven.lopez@email.com'),
('Nancy Hill', 'nancyh', 'password123', 'nancy.hill@email.com'),
('Paul Scott', 'pauls', 'password123', 'paul.scott@email.com'),
('Karen Green', 'kareng', 'password123', 'karen.green@email.com'),
('Andrew Adams', 'andrewa', 'password123', 'andrew.adams@email.com'),
('Betty Baker', 'bettyb', 'password123', 'betty.baker@email.com'),
('Joshua Gonzalez', 'joshuag', 'password123', 'joshua.gonzalez@email.com'),
('Helen Nelson', 'helenn', 'password123', 'helen.nelson@email.com'),
('Kevin Carter', 'kevinc', 'password123', 'kevin.carter@email.com'),
('Sandra Mitchell', 'sandram', 'password123', 'sandra.mitchell@email.com'),
('Brian Perez', 'brianp', 'password123', 'brian.perez@email.com'),
('Donna Roberts', 'donnar', 'password123', 'donna.roberts@email.com'),
('Jason Turner', 'jasont', 'password123', 'jason.turner@email.com'),
('Carol Phillips', 'carolp', 'password123', 'carol.phillips@email.com'),
('Ryan Campbell', 'ryanc', 'password123', 'ryan.campbell@email.com'),
('Ruth Parker', 'ruthp', 'password123', 'ruth.parker@email.com'),
('Eric Evans', 'erice', 'password123', 'eric.evans@email.com'),
('Sharon Edwards', 'sharone', 'password123', 'sharon.edwards@email.com'),
('Timothy Collins', 'timothyc', 'password123', 'timothy.collins@email.com'),
('Janet Stewart', 'janets', 'password123', 'janet.stewart@email.com'),
('Jeffrey Sanchez', 'jeffreys', 'password123', 'jeffrey.sanchez@email.com'),
('Amy Morris', 'amym', 'password123', 'amy.morris@email.com'),
('Ronald Rogers', 'ronaldr', 'password123', 'ronald.rogers@email.com'),
('Laura Reed', 'laurar', 'password123', 'laura.reed@email.com'),
('Edward Cook', 'edwardc', 'password123', 'edward.cook@email.com'),
('Maria Morgan', 'mariam', 'password123', 'maria.morgan@email.com'),
('Frank Bell', 'frankb', 'password123', 'frank.bell@email.com'),
('Donna Murphy', 'donnam', 'password123', 'donna.murphy@email.com'),
('Gary Bailey', 'garyb', 'password123', 'gary.bailey@email.com'),
('Cynthia Rivera', 'cynthiar', 'password123', 'cynthia.rivera@email.com'),
('Larry Cooper', 'larryc', 'password123', 'larry.cooper@email.com'),
('Kathleen Richardson', 'kathleenr', 'password123', 'kathleen.richardson@email.com'),
('Scott Cox', 'scottc', 'password123', 'scott.cox@email.com'),
('Deborah Howard', 'deborahh', 'password123', 'deborah.howard@email.com'),
('Raymond Ward', 'raymondw', 'password123', 'raymond.ward@email.com'),
('Rachel Torres', 'rachelt', 'password123', 'rachel.torres@email.com'),
('Jerry Peterson', 'jerryp', 'password123', 'jerry.peterson@email.com'),
('Shirley Gray', 'shirleyg', 'password123', 'shirley.gray@email.com'),
('Dennis Ramirez', 'dennisr', 'password123', 'dennis.ramirez@email.com'),
('Janice James', 'janicej', 'password123', 'janice.james@email.com'),
('Peter Watson', 'peterw', 'password123', 'peter.watson@email.com'),
('Martha Brooks', 'marthab', 'password123', 'martha.brooks@email.com'),
('Harold Kelly', 'haroldk', 'password123', 'harold.kelly@email.com'),
('Dorothy Sanders', 'dorothys', 'password123', 'dorothy.sanders@email.com'),
('Douglas Price', 'douglasp', 'password123', 'douglas.price@email.com'),
('Lisa Bennett', 'lisab', 'password123', 'lisa.bennett@email.com'),
('Carl Wood', 'carlw', 'password123', 'carl.wood@email.com'),
('Frances Barnes', 'francesb', 'password123', 'frances.barnes@email.com'),
('Ralph Ross', 'ralphr', 'password123', 'ralph.ross@email.com'),
('Joyce Henderson', 'joyceh', 'password123', 'joyce.henderson@email.com'),
('Eugene Coleman', 'eugenec', 'password123', 'eugene.coleman@email.com'),
('Marie Jenkins', 'mariej', 'password123', 'marie.jenkins@email.com'),
('Wayne Perry', 'waynep', 'password123', 'wayne.perry@email.com'),
('Gloria Powell', 'gloriap', 'password123', 'gloria.powell@email.com'),
('Louis Long', 'louisl', 'password123', 'louis.long@email.com'),
('Teresa Patterson', 'teresap', 'password123', 'teresa.patterson@email.com'),
('Philip Hughes', 'philiph', 'password123', 'philip.hughes@email.com'),
('Beverly Flores', 'beverlyf', 'password123', 'beverly.flores@email.com'),
('Bobby Washington', 'bobbyw', 'password123', 'bobby.washington@email.com'),
('Anna Butler', 'annab', 'password123', 'anna.butler@email.com'),
('Johnny Simmons', 'johnnys', 'password123', 'johnny.simmons@email.com'),
('Ruby Foster', 'rubyf', 'password123', 'ruby.foster@email.com'),
('Willie Gonzales', 'willieg', 'password123', 'willie.gonzales@email.com'),
('Evelyn Bryant', 'evelynb', 'password123', 'evelyn.bryant@email.com'),
('Ralph Alexander', 'ralpha', 'password123', 'ralph.alexander@email.com'),
('Irene Russell', 'irener', 'password123', 'irene.russell@email.com'),
('Roy Griffin', 'royg', 'password123', 'roy.griffin@email.com'),
('Jean Diaz', 'jeand', 'password123', 'jean.diaz@email.com'),
('Earl Hayes', 'earlh', 'password123', 'earl.hayes@email.com'),
('Mildred Myers', 'mildredm', 'password123', 'mildred.myers@email.com'),
('Joe Ford', 'joef', 'password123', 'joe.ford@email.com'),
('Lillian Hamilton', 'lillianh', 'password123', 'lillian.hamilton@email.com'),
('Albert Graham', 'albertg', 'password123', 'albert.graham@email.com'),
('Rose Sullivan', 'roses', 'password123', 'rose.sullivan@email.com'),
('Victor Wallace', 'victorw', 'password123', 'victor.wallace@email.com'),
('Florence Woods', 'florencew', 'password123', 'florence.woods@email.com'),
('Jack Cole', 'jackc', 'password123', 'jack.cole@email.com'),
('Theresa West', 'theresaw', 'password123', 'theresa.west@email.com'),
('Roger Jordan', 'rogerj', 'password123', 'roger.jordan@email.com'),
('Virginia Owens', 'virginiao', 'password123', 'virginia.owens@email.com');

-- Create chat_messages table if it doesn't exist (matching ChatMessage entity structure)
CREATE TABLE IF NOT EXISTS chat_messages (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(255) NOT NULL,
    message TEXT NOT NULL,
    risk_level INT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_user_id (user_id),
    INDEX idx_timestamp (timestamp)
);

-- Sample counseling conversation pairs (50 examples)
-- Each pair consists of a user message and counselor response with risk level

DELIMITER $$

CREATE PROCEDURE InsertChatMessages()
BEGIN
    DECLARE user_id_var VARCHAR(255);
    DECLARE message_count INT;
    DECLARE i INT DEFAULT 1;
    DECLARE j INT;
    DECLARE msg_idx INT;
    DECLARE risk_level_var INT;
    
    -- Create temporary table for sample messages
    CREATE TEMPORARY TABLE IF NOT EXISTS sample_conversations (
        id INT AUTO_INCREMENT PRIMARY KEY,
        user_msg TEXT,
        risk_level INT,
        counselor_resp TEXT
    );
    
    -- Insert 50 sample conversation pairs
    INSERT INTO sample_conversations (user_msg, risk_level, counselor_resp) VALUES
    ('I have been feeling really anxious lately and I do not know why.', 15, 'I understand that anxiety can be overwhelming. Let us explore some coping strategies together.'),
    ('I have been having trouble sleeping for the past few weeks.', 20, 'Sleep issues can significantly impact your wellbeing. Have you tried establishing a bedtime routine?'),
    ('Sometimes I feel like no one understands what I am going through.', 10, 'Your feelings are valid, and I am here to listen and support you through this.'),
    ('I have been feeling really down and I do not know how to cope.', 25, 'It is okay to feel down sometimes. Let us work together to find healthy ways to cope.'),
    ('I am worried about my future and what will happen to me.', 15, 'Worrying about the future is natural, but we can develop strategies to manage these concerns.'),
    ('I have been having panic attacks and they are getting worse.', 35, 'Panic attacks can be frightening. Let us discuss techniques to help you manage them.'),
    ('I feel like I am losing control of my life.', 30, 'Feeling out of control can be distressing. We can work on building a sense of stability.'),
    ('I have been isolating myself from friends and family.', 20, 'Isolation can make things feel worse. Would you like to explore ways to reconnect?'),
    ('I am struggling with self-esteem issues.', 15, 'Self-esteem issues are common and treatable. We can work on building your confidence.'),
    ('I have been having negative thoughts that I cannot shake.', 25, 'Negative thoughts can be challenging. Let us develop strategies to reframe them.'),
    ('I feel overwhelmed by everything happening around me.', 20, 'Feeling overwhelmed is understandable. We can break things down into manageable steps.'),
    ('I have been experiencing mood swings that concern me.', 25, 'Mood swings can be concerning. It might help to track patterns and triggers.'),
    ('I am worried about my relationships with others.', 15, 'Relationship concerns are important to address. Let us explore what is happening.'),
    ('I have been feeling hopeless about my situation.', 40, 'Hopelessness can feel overwhelming, but there are paths forward. We can find them together.'),
    ('I am struggling to find motivation to do anything.', 30, 'Lack of motivation can be a sign of depression. Let us explore what might help.'),
    ('I have been having difficulty concentrating on tasks.', 20, 'Concentration difficulties can impact daily life. We can discuss strategies to improve focus.'),
    ('I feel like I am a burden to the people around me.', 35, 'You are not a burden. Your feelings matter, and you deserve support.'),
    ('I have been experiencing physical symptoms related to stress.', 25, 'Physical symptoms related to stress are real and valid. Let us address both physical and emotional aspects.'),
    ('I am worried about my mental health.', 20, 'Concern about mental health shows self-awareness. Seeking help is a positive step.'),
    ('I have been having thoughts that scare me.', 45, 'Scary thoughts can be managed. We can develop safety plans and coping strategies.'),
    ('I feel like I am stuck and cannot move forward.', 30, 'Feeling stuck is temporary. We can identify small steps to move forward.'),
    ('I have been avoiding situations that make me anxious.', 25, 'Avoidance can maintain anxiety. We can work on gradual exposure techniques.'),
    ('I am struggling with feelings of guilt and shame.', 30, 'Guilt and shame are heavy emotions. We can explore their sources and work through them.'),
    ('I have been having trouble eating regularly.', 25, 'Eating patterns can be affected by mental health. Let us address both concerns.'),
    ('I feel disconnected from the world around me.', 35, 'Feeling disconnected can be isolating. We can explore ways to reconnect with yourself and others.'),
    ('I have been experiencing flashbacks to traumatic events.', 50, 'Trauma can have lasting effects. We can work on processing these experiences safely.'),
    ('I am worried about how my mental state is affecting my work.', 30, 'Work performance can be impacted by mental health. We can discuss accommodations and support.'),
    ('I have been having suicidal thoughts.', 90, 'Suicidal thoughts are serious. Please reach out to emergency services if you are in immediate danger.'),
    ('I feel like I am losing my sense of self.', 40, 'Losing sense of self can be disorienting. We can work on rediscovering who you are.'),
    ('I have been engaging in self-destructive behaviors.', 60, 'Self-destructive behaviors often serve a purpose. We can explore healthier alternatives.'),
    ('I am struggling with addiction issues.', 55, 'Addiction is a treatable condition. There are resources and support available.'),
    ('I have been feeling angry and irritable all the time.', 30, 'Anger and irritability can be symptoms of underlying issues. Let us explore what is driving these feelings.'),
    ('I am worried about my safety and the safety of others.', 70, 'Safety concerns are paramount. We can develop safety plans and access appropriate resources.'),
    ('I have been having nightmares that disturb my sleep.', 35, 'Nightmares can be distressing. We can discuss techniques to manage and reduce them.'),
    ('I feel like I cannot trust anyone anymore.', 40, 'Trust issues can impact relationships. We can work on rebuilding trust gradually.'),
    ('I have been experiencing paranoia and suspicion.', 50, 'Paranoia can be concerning. Let us explore what might be contributing to these feelings.'),
    ('I am struggling with grief and loss.', 30, 'Grief is a natural response to loss. We can work through the grieving process together.'),
    ('I have been having difficulty managing my emotions.', 35, 'Emotional regulation can be learned. We can develop skills to manage intense emotions.'),
    ('I feel like I am in a constant state of fear.', 45, 'Constant fear can be exhausting. We can work on reducing anxiety and building resilience.'),
    ('I have been avoiding seeking help because I am scared.', 25, 'Seeking help can be scary, but it is a brave step. You are not alone in this.'),
    ('I am worried about what others will think of me.', 20, 'Worry about others opinions is common. We can work on building self-confidence.'),
    ('I have been feeling numb and empty inside.', 40, 'Feeling numb can be a protective mechanism. We can explore what you might be protecting yourself from.'),
    ('I have been having intrusive thoughts that I cannot control.', 45, 'Intrusive thoughts can be managed. We can develop techniques to reduce their impact.'),
    ('I am struggling with body image issues.', 25, 'Body image issues are common and can be addressed. We can work on developing a healthier relationship with your body.'),
    ('I have been experiencing dissociation and feeling detached.', 50, 'Dissociation can be a coping mechanism. We can explore grounding techniques to help you stay present.'),
    ('I feel like I am not good enough for anything.', 35, 'Feeling not good enough is a common struggle. We can work on challenging these beliefs.'),
    ('I have been having difficulty maintaining relationships.', 30, 'Relationship difficulties can be addressed. We can explore communication and boundary-setting skills.'),
    ('I am worried about my ability to function normally.', 40, 'Functioning concerns are valid. We can develop strategies to improve daily functioning.'),
    ('I have been feeling like I want to give up.', 60, 'Thoughts of giving up are understandable when things feel overwhelming. There is hope, and we can find it together.');
    
    -- Insert messages for each user
    WHILE i <= 100 DO
        SELECT username INTO user_id_var FROM users WHERE id = i;
        SET message_count = FLOOR(5 + RAND() * 3); -- Random 5-7 messages per user
        
        SET j = 1;
        WHILE j <= message_count DO
            -- Select random conversation pair
            SET msg_idx = FLOOR(1 + RAND() * 50);
            
            SELECT user_msg, risk_level, counselor_resp INTO @user_msg, risk_level_var, @counselor_resp
            FROM sample_conversations WHERE id = msg_idx;
            
            -- Insert user message
            INSERT INTO chat_messages (user_id, message, risk_level, timestamp)
            VALUES (
                user_id_var,
                @user_msg,
                risk_level_var,
                DATE_SUB(NOW(), INTERVAL (message_count - j) DAY)
            );
            
            -- Insert counselor response (1 hour after user message)
            INSERT INTO chat_messages (user_id, message, risk_level, timestamp)
            VALUES (
                user_id_var,
                @counselor_resp,
                risk_level_var,
                DATE_ADD(DATE_SUB(NOW(), INTERVAL (message_count - j) DAY), INTERVAL 1 HOUR)
            );
            
            SET j = j + 1;
        END WHILE;
        
        SET i = i + 1;
    END WHILE;
    
    DROP TEMPORARY TABLE IF EXISTS sample_conversations;
END$$

DELIMITER ;

-- Execute the procedure
CALL InsertChatMessages();

-- Drop the procedure after use
DROP PROCEDURE IF EXISTS InsertChatMessages;
